<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <form name=myForm method=post action=check.php>
    <div class="form-group mt-4">
      <h4>Adaptability</h4>
      <input id="married" onclick="spouseRelatedInfo();" type=checkbox>
      <label class="form-check-label" for="married">
        Are you married?
      </label>
      <div id="spouseRelated" style="display: none;">
        <div class="form-check">             
          <input  class="form-check-input" type=checkbox id="check-1" name="ckb[]" value=5 onclick='chkcontrol(1)';>
        <label class="form-check-label">
          Your spouse or partner’s language level
        </label>
        </div>
        <div class="form-check">             
          <input  class="form-check-input" type=checkbox id="check-2" name="ckb[]" value=5 onclick='chkcontrol(2)';>
        <label class="form-check-label">
          Your spouse or partner’s past studies in Canada
        </label>
        </div>
        <div class="form-check">             
          <input  class="form-check-input" type=checkbox id="check-3" name="ckb[]" value=5 onclick='chkcontrol(3)';>
          <label class="form-check-label">
            Your spouse or common-law partner’s past work in Canada
          </label>
        </div>
      </div>
      <div class="form-check">              
        <input  class="form-check-input" type=checkbox id="check-4" name="ckb[]" value=10 onclick='chkcontrol(4)';>
      <label class="form-check-label">
        Your past studies in Canada
      </label>
        </div>
      <div class="form-check">             
        <input  class="form-check-input" type=checkbox id="check-5" name="ckb[]" value=5 onclick='chkcontrol(5)';>
      <label class="form-check-label">
        Your past work in Canada
      </label>
        </div>
      <div class="form-check">          
        <input  class="form-check-input" type=checkbox id="check-6" name="ckb[]" value=5 onclick='chkcontrol(6)';>
      <label class="form-check-label">
        Arranged employment in Canada
      </label>
        </div>
      <div class="form-check">   
        <input  class="form-check-input" type=checkbox id="check-7" name="ckb[]" value=5 onclick='chkcontrol(7)';
        <label class="form-check-label">
          Relatives in Canada
        </label>
      </div>  
    
  </form>
  <br><br>
  <div id=msg></div>

  <script type="text/javascript"> 
    function spouseRelatedInfo(){
      console.log("Hello");
      var spouseRelated =  document.getElementById("spouseRelated");
      spouseRelated.style.display = (spouseRelated.style.display == "none") ? "block": "none";
    }
    function chkcontrol(j) {
      var sum=0;
      for(var i=2; i <= 7; i++){
      var idName = "check-"+i;
      var checkInput = document.getElementById(idName);
        if(checkInput.checked){
          sum = sum + parseInt(checkInput.value);
        }
        document.getElementById("msg").innerHTML="Sum :"+ sum;
        
        if(sum >10){
          sum = sum - parseInt(checkInput.value);
          checkInput.checked = false ;
          for(var i=1; i <=7; i++){
            document.getElementById("check-"+i).disabled= true;
          }
          document.getElementById("married").disabled= true;
          alert("It seems you have reached the maximum points in the Adaptibility Section") 
        }
        document.getElementById("msg").innerHTML="Sum :"+ sum;
      }
    }
  </script>
</body>
</html>