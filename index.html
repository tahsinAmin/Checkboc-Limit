<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <form name=form1 method=post action=check.php>
    <table class='table table-striped' >    
      <tr><th >Select</th></tr>
      <tr><td><input id="married" onclick="spouseRelatedInfo();" type=checkbox name=ckb value=0;>Are you married?</td></tr>
      <div id="spouseRelated" style="display: none;">
        <tr><td><input type=checkbox name=ckb value=5 onclick='chkcontrol(1)';>Your spouse or partner’s language level</td></tr>
        <tr><td><input type=checkbox name=ckb value=5 onclick='chkcontrol(2)';>Your spouse or partner’s past studies in Canada</td></tr>
        <tr><td><input type=checkbox name=ckb value=5 onclick='chkcontrol(3)';>Your spouse or common-law partner’s past work in Canada</td></tr>  
      </div>
      <tr><td><input type=checkbox name=ckb value=10 onclick='chkcontrol(4)';>Your past studies in Canada</td></tr>
      <tr><td><input type=checkbox name=ckb value=5 onclick='chkcontrol(5)';>Your past work in Canada</td></tr>
      <tr><td><input type=checkbox name=ckb value=5 onclick='chkcontrol(6)';>Arranged employment in Canada</td></tr>
      <tr><td><input type=checkbox name=ckb value=5 onclick='chkcontrol(7)';>Relatives in Canada</td> </tr>
    </table>
  </form>
  <br><br>
  <div id=msg></div>

  <script type="text/javascript"> 
    function spouseRelatedInfo(){
      console.log("Hello");
      var spouseRelated =  document.getElementById("spouseRelated");
      spouseRelated.style.display = (spouseRelated.style.display == "none") ? "block": "none";
    }
    function chkcontrol(j) {
      var sum=0;
      for(var i=0; i < document.form1.ckb.length; i++){
      
        if(document.form1.ckb[i].checked){
          sum = sum + parseInt(document.form1.ckb[i].value);
        }
        document.getElementById("msg").innerHTML="Sum :"+ sum;
        
        if(sum >10){
          sum = sum - parseInt(document.form1.ckb[j].value);
          document.form1.ckb[j].checked = false ;
          for(var i=0; i < document.form1.ckb.length; i++){
            document.form1.ckb[i].disabled= true;
          }
          alert("It seems you have reached the maximum points in the Adaptibility Section") 
        }
        document.getElementById("msg").innerHTML="Sum :"+ sum;
      }
    }
  </script>
</body>
</html>